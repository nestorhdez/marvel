(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)i=o[d],r[i]&&h.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/marvel/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"033f":function(t,e,a){},"034f":function(t,e,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},"1ea1":function(t,e,a){"use strict";var n=a("033f"),r=a.n(n);r.a},3445:function(t,e,a){"use strict";var n=a("de24"),r=a.n(n);r.a},"36ff":function(t,e,a){"use strict";var n=a("9e34"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i=(a("034f"),a("2877")),o={},c=Object(i["a"])(o,r,s,!1,null,null,null),l=c.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h1",[t._v("Marvel Comics")]),a("Search",{on:{search:t.setUrl}}),a("div",[a("span",{staticClass:"order-title"},[t._v("Order by:")]),a("Order",{attrs:{options:t.orderOptions},on:{order:t.setOrder}})],1),a("CardsContainer",{attrs:{url:t.urlToUse},on:{total:t.setTotal}}),a("Pagination",{attrs:{limitOfSet:5,limitOfPage:10,total:t.totalResult},on:{page:t.setPage}})],1)},h=[],f=(a("386d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"search-container"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{id:"search-input",type:"text",placeholder:"Search a comic..."},domProps:{value:t.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("search",t.input)},input:function(e){e.target.composing||(t.input=e.target.value)}}}),a("button",{attrs:{id:"search-btn"},on:{click:function(e){return t.$emit("search",t.input)}}},[t._v("Search")])])}),p=[],m={name:"search-container",data:function(){return{input:""}}},g=m,v=(a("36ff"),Object(i["a"])(g,f,p,!1,null,"4556d96c",null)),b=v.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{attrs:{id:"order"},on:{change:t.emitOrder}},t._l(t.options,function(e,n){return a("option",{key:n,domProps:{value:e.apiName}},[t._v(t._s(e.html))])}),0)},y=[],O={name:"order",props:{options:Array},methods:{emitOrder:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{target:{value:this.options[0].apiName}};this.$emit("order",t.target.value)}},created:function(){this.emitOrder()}},S=O,x=(a("9a12"),Object(i["a"])(S,_,y,!1,null,"04eafb80",null)),P=x.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"no-scroll":t.states.loading},attrs:{id:"cards-container"}},[a("Message",{attrs:{states:t.states,styles:{height:"calc(100vh - 180px)",top:"100px"}}}),t._l(t.comics,function(t,e){return a("Card",{key:"c-"+e,attrs:{comic:t}})})],2)},C=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/"+t.comic.id}},[a("div",{staticClass:"card"},[a("div",{staticClass:"img",style:[t.comic.thumbnail?{"background-image":"url("+t.comic.thumbnail+")"}:{background:"#FFF"}]}),a("div",{staticClass:"card-overlay"},[a("span",{staticClass:"title"},[t._v(t._s(t.comic.title))])])])])},$=[],j=(a("c5f6"),{name:"card",props:{comic:{id:Number,title:String,thumbnail:String}}}),B=j,N=(a("a59d"),Object(i["a"])(B,w,$,!1,null,"52b215f8",null)),M=N.exports,E=a("bc3a"),T=a.n(E),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.states.loading||t.states.error||t.states.noResult?a("div",{style:t.styles,attrs:{id:"loading"}},[a("h2",[t._v(t._s(t.showMessage()))])]):t._e()},R=[],U={name:"message",props:{styles:Object,states:{loading:Boolean,error:Boolean,noResult:Boolean}},methods:{showMessage:function(){return this.states.error?"Sorry, something wrong happend.":this.states.loading?"Loading...":this.states.noResult?"Sorry, we didn't find it. Try another search.":void 0}}},A=U,L=(a("efe7"),Object(i["a"])(A,F,R,!1,null,"8a2ce9a0",null)),I=L.exports,D={name:"cards-container",data:function(){return{comics:[],states:{loading:!1,error:!1,noResult:!1}}},props:{url:String},components:{Card:M,Message:I},watch:{url:function(){this.getComics()},comics:{handler:function(){0==this.comics.length?this.states.noResult=!0:this.states.noResult=!1},deep:!0}},methods:{getComics:function(){var t=this;this.states.error=!1,this.states.loading=!0,T.a.get(this.url).then(function(e){t.comics=e.data.data.results.map(function(t){var e=t.thumbnail.path+"."+t.thumbnail.extension;return{id:t.id,title:t.title,thumbnail:e,date:t.dates[0].date}}),t.states.loading=!1,t.$emit("total",e.data.data.total)}).catch(function(e){t.states.loading=!1,t.states.error=!0})}},created:function(){this.getComics()}},J=D,Z=(a("a70f"),Object(i["a"])(J,k,C,!1,null,"cd9c3fe8",null)),W=Z.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"pages-container"}},[a("ul",[t.checkPrevBtn()?a("button",{on:{click:t.prevSet}},[t._v("prev")]):t._e(),t._l(t.pages.set,function(e,n){return a("li",{key:"pag-"+n,class:{selected:t.pages.current==n}},[a("button",{attrs:{id:n},on:{click:t.sendCurrentPage}},[t._v(t._s(e))])])}),t.checkNextBtn()?a("button",{on:{click:t.nextSet}},[t._v("next")]):t._e()],2)])},z=[],G={name:"pagination",props:{total:Number,limitOfSet:Number,limitOfPage:Number},data:function(){return{pages:{totalPages:0,set:[],current:0}}},watch:{total:function(){this.pages.totalPages=Math.floor(this.total/this.limitOfPage),this.pages.set=[],this.initSet()}},methods:{sendCurrentPage:function(t){this.pages.current=+t.target.id,this.$emit("page",t.target.innerText)},sendFirstPage:function(){this.pages.current=0,this.$emit("page",this.pages.set[0])},initSet:function(){for(var t=1;t<=this.limitOfSet;t++){if(!(t<=this.pages.totalPages))break;this.pages.set.push(t)}},prevSet:function(){var t=this;if(this.pages.set.length<this.limitOfSet){this.pages.set=this.pages.set.map(function(e){return e-t.limitOfSet});for(var e=this.pages.set.slice(-1)[0],a=++e;this.pages.set.length<this.limitOfSet;++a)this.pages.set.push(a)}else this.pages.set[0]>1&&(this.pages.set=this.pages.set.map(function(e){return e-t.limitOfSet}));this.sendFirstPage()},nextSet:function(){var t=this;this.pages.set=this.pages.set.filter(function(e){return e+t.limitOfSet<=t.pages.totalPages}).map(function(e){return e+t.limitOfSet}),this.sendFirstPage()},checkPrevBtn:function(){var t=this.pages.set.slice(0)[0];return 1!=t&&this.pages.set.length>0},checkNextBtn:function(){var t=this.pages.set.slice(-1)[0];return t<this.pages.totalPages&&this.pages.set.length>0}}},H=G,K=(a("1ea1"),Object(i["a"])(H,q,z,!1,null,"d9b08766",null)),Q=K.exports,V={name:"home",data:function(){return{pages:{total:0,currentPage:1},url:{urlBase:"https://gateway.marvel.com/v1/public/comics?apikey=bc779a912046b02fea1f9082447b3ade&hash=5706817dfb3ffd7294a5f3702923d497&ts=9&limit=10",search:"",order:""},orderOptions:[{apiName:"title",html:"title (A-Z)"},{apiName:"onsaleDate",html:"Sale date (ascending)"},{apiName:"-title",html:"title (Z-A)"},{apiName:"-onsaleDate",html:"Sale date (descending)"}]}},components:{Search:b,Order:P,CardsContainer:W,Pagination:Q},computed:{urlToUse:function(){return"".concat(this.url.urlBase,"&offset=").concat(10*this.pages.currentPage).concat(""!=this.url.search?"&titleStartsWith=".concat(this.url.search):"").concat(""!=this.url.order?"&orderBy=".concat(this.url.order):"")},totalResult:function(){return this.pages.total}},methods:{setTotal:function(t){this.pages.total=t},setPage:function(t){this.pages.currentPage=t},setOrder:function(t){this.url.order=t},setUrl:function(t){this.url.search=t}}},X=V,Y=(a("7271"),Object(i["a"])(X,d,h,!1,null,"3b8ea8bc",null)),tt=Y.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detail"}},[a("Message",{attrs:{states:t.states}}),a("div",{staticClass:"img",style:[t.comic.thumbnail?{"background-image":"url("+t.comic.thumbnail+")"}:{background:"#FFF"}]}),a("div",{staticClass:"text"},[a("h1",[t._v(t._s(t.comic.title))]),a("p",[t._v(t._s(t.comic.description))]),a("div",{attrs:{id:"lists"}},[a("List",{attrs:{array:t.comic.creators,title:"Creators"}}),a("List",{attrs:{array:t.comic.characters,title:"Characters"}})],1)])],1)},at=[],nt=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.array&&t.array.length>0?a("div",[a("h2",[t._v(t._s(t.title))]),a("ul",t._l(t.array,function(e,n){return a("li",{key:n},[t._v("\n            "+t._s(e)+"\n        ")])}),0)]):t._e()}),rt=[],st={name:"list",props:{array:Array,title:String}},it=st,ot=Object(i["a"])(it,nt,rt,!1,null,null,null),ct=ot.exports,lt={name:"detail",components:{Message:I,List:ct},data:function(){return{states:{loading:!0,error:!1},comic:{id:this.$route.params.id},url:"https://gateway.marvel.com/v1/public/comics/",params:"?apikey=bc779a912046b02fea1f9082447b3ade&hash=5706817dfb3ffd7294a5f3702923d497&ts=9"}},watch:{$route:function(t,e){this.comic.id=this.$route.params.id,this.loadById()}},methods:{loadById:function(){var t=this;this.states.error=!1,this.states.loading=!0,T.a.get(this.urlToUse).then(function(e){var a=e.data.data.results[0],n="".concat(a.thumbnail.path,".").concat(a.thumbnail.extension);t.comic={title:a.title,description:a.description,thumbnail:n,creators:a.creators.items.filter(function(t,e){return e<4}).map(function(t){return t.name}),characters:a.characters.items.filter(function(t,e){return e<4}).map(function(t){return t.name})},t.states.loading=!1}).catch(function(e){t.states.loading=!1,t.states.error=!0})}},created:function(){this.loadById()},computed:{urlToUse:function(){return this.url+this.comic.id+this.params}}},ut=lt,dt=(a("3445"),Object(i["a"])(ut,et,at,!1,null,"dcf0dfc8",null)),ht=dt.exports;n["a"].use(u["a"]);var ft=new u["a"]({routes:[{path:"/",name:"home",component:tt},{path:"/:id",name:"detail",component:ht}]});n["a"].config.productionTip=!1,new n["a"]({router:ft,render:function(t){return t(l)}}).$mount("#app")},"5c6e":function(t,e,a){},"64a9":function(t,e,a){},"6d31":function(t,e,a){},7271:function(t,e,a){"use strict";var n=a("9158"),r=a.n(n);r.a},9158:function(t,e,a){},"9a12":function(t,e,a){"use strict";var n=a("5c6e"),r=a.n(n);r.a},"9a21":function(t,e,a){},"9e34":function(t,e,a){},a59d:function(t,e,a){"use strict";var n=a("b598"),r=a.n(n);r.a},a70f:function(t,e,a){"use strict";var n=a("9a21"),r=a.n(n);r.a},b598:function(t,e,a){},de24:function(t,e,a){},efe7:function(t,e,a){"use strict";var n=a("6d31"),r=a.n(n);r.a}});
//# sourceMappingURL=app.7b9046b4.js.map